<div class="container-fluid auth">
	<div class="row justify-content-center h-100 align-items-center">
		<div class="col-md-4">
			<form
				(ngSubmit)="register()"
				method="POST"
				#registerForm="ngForm"
				passwordConfirm
			>
				<h3 class="logo">NoteBook</h3>
				<div class="form-group">
					<label for="name">Name</label>
					<input
						type="text"
						name="name"
						id="name"
						class="form-control"
						placeholder="Enter your name"
						[(ngModel)]="credentials.name"
						required
						#name="ngModel"
					/>
					<small
						class="form-help text-danger"
						*ngIf="errors.hasOwnProperty('name')"
					>
						<!-- Server-side validation error -->
						{{ errors.name[0] }}
					</small>
					<small
						class="form-help text-danger"
						*ngIf="name.invalid && (name.dirty || name.touched)"
					>
						<span *ngIf="name.errors.required">
							The name field is required.
						</span>
					</small>
				</div>
				<div class="form-group">
					<label for="email">Email</label>
					<input
						type="email"
						name="email"
						id="email"
						class="form-control"
						[(ngModel)]="credentials.email"
						placeholder="Enter your email adress"
						required
						#email="ngModel"
						email
						(keydown)="errors.email = []"
					/>
					<small
						class="form-help text-danger"
						*ngIf="errors.hasOwnProperty('email')"
					>
						<!-- Server-side validation error -->
						{{ errors.email[0] }}
					</small>
					<small
						class="form-help text-danger"
						*ngIf="email.invalid && (email.dirty || email.touched)"
					>
						<span *ngIf="email.errors.required">
							The email field is required.
						</span>
						<span *ngIf="email.errors.email">
							The email must be a valid email address.
						</span>
					</small>
				</div>
				<div class="form-group">
					<label for="password">Password</label>
					<input
						type="password"
						name="password"
						id="password"
						class="form-control"
						[(ngModel)]="credentials.password"
						placeholder="Enter your password"
						required
						#password="ngModel"
						minlength="8"
						(keydown)="errors.password = []"
					/>
					<small
						class="form-help text-danger"
						*ngIf="errors.hasOwnProperty('password')"
					>
						<!-- Server-side validation error -->
						{{ errors.password[0] }}
					</small>
					<small
						class="form-help text-danger"
						*ngIf="
							password.invalid &&
							(password.dirty || password.touched)
						"
					>
						<span *ngIf="password.errors.required">
							The password field is required.
						</span>
						<span *ngIf="password.errors.minlength">
							The password must be at least 8 characters
						</span>
					</small>
				</div>
				<div class="form-group">
					<label for="password_confirmation">Confirm password</label>
					<input
						type="password"
						name="password_confirmation"
						id="password_confirmation"
						class="form-control"
						placeholder="Enter your password"
						[(ngModel)]="credentials.password_confirmation"
						#password_confirmation="ngModel"
					/>
					<small
						class="form-help text-danger"
						*ngIf="errors.hasOwnProperty('password_confirmation')"
					>
						<!-- Server-side validation error -->
						{{ errors.password_confirmation[0] }}
					</small>
					<small
						class="form-help text-danger"
						*ngIf="
							registerForm.errors?.passwordConfirmed &&
							(registerForm.touched || registerForm.dirty)
						"
					>
						The password confirmation does not match.
					</small>
				</div>
				<div class="form-group">
					<button class="btn btn-primary w-100" type="submit">
						<span *ngIf="!isLoading">Register</span>

						<div
							class="spinner-border spinner-border-sm"
							role="status"
							*ngIf="isLoading"
						>
							<span class="sr-only">Loading...</span>
						</div>
					</button>
				</div>
				<div class="form-group text-center">
					<small class="form-help">
						Have an account already ?
						<a routerLink="/login">Login</a>
					</small>
				</div>
			</form>
		</div>
	</div>
</div>
